"""\nExample custom skill - demonstrates how to create a skill.\n\nThis file shows the structure of a custom skill that can be:\n1. Written manually by the user\n2. Generated by the agent using write_skill tool\n3. Shared between users\n\nAuto-generated skill by II-Agent\nCreated: 2025-01-01T00:00:00\n"""\n\nfrom typing import Any\nfrom ii_telegram_agent.tools.base import Tool, ToolParameter, ToolResult\n\n\nasync def calculate_tip(bill_amount: float, tip_percent: float = 18.0, split_ways: int = 1) -> ToolResult:\n    """\n    Calculate tip and split a bill.\n    \n    Args:\n        bill_amount: The total bill amount\n        tip_percent: Tip percentage (default 18%)\n        split_ways: Number of people to split between (default 1)\n    \n    Returns:\n        ToolResult with the calculation breakdown\n    """\n    try:\n        tip = bill_amount * (tip_percent / 100)\n        total = bill_amount + tip\n        per_person = total / split_ways\n        \n        result = f"""**Bill Calculation:**\n\u2022 Bill: ${bill_amount:.2f}\n\u2022 Tip ({tip_percent}%): ${tip:.2f}\n\u2022 Total: ${total:.2f}\n\u2022 Per person ({split_ways} {"people" if split_ways > 1 else "person"}): ${per_person:.2f}"""\n        \n        return ToolResult(success=True, output=result)\n    except Exception as e:\n        return ToolResult(success=False, error=str(e))\n\n\ndef create_tip_calculator_tool() -> Tool:\n    """Create the tip calculator tool."""\n    return Tool(\n        name="calculate-tip",\n        description="Calculate tip and optionally split a bill between people.",\n        parameters=[\n            ToolParameter(\n                name="bill_amount",\n                param_type="number",\n                description="The total bill amount in dollars",\n                required=True,\n            ),\n            ToolParameter(\n                name="tip_percent",\n                param_type="number",\n                description="Tip percentage (default: 18%)",\n                required=False,\n            ),\n            ToolParameter(\n                name="split_ways",\n                param_type="integer",\n                description="Number of people to split the bill (default: 1)",\n                required=False,\n            ),\n        ],\n        handler=calculate_tip,\n    )\n\n\nasync def generate_password(length: int = 16, include_symbols: bool = True) -> ToolResult:\n    """\n    Generate a secure random password.\n    \n    Args:\n        length: Password length (default 16)\n        include_symbols: Include special symbols (default True)\n    \n    Returns:\n        ToolResult with the generated password\n    """\n    import secrets\n    import string\n    \n    try:\n        chars = string.ascii_letters + string.digits\n        if include_symbols:\n            chars += "!@#$%^&*"\n        \n        password = ''.join(secrets.choice(chars) for _ in range(length))\n        \n        result = f"**Generated Password:**\n`{password}`\n\nLength: {length} characters"\n        if include_symbols:\n            result += " (with symbols)"\n        \n        return ToolResult(success=True, output=result)\n    except Exception as e:\n        return ToolResult(success=False, error=str(e))\n\n\ndef create_password_generator_tool() -> Tool:\n    """Create the password generator tool."""\n    return Tool(\n        name="generate-password",\n        description="Generate a secure random password.",\n        parameters=[\n            ToolParameter(\n                name="length",\n                param_type="integer",\n                description="Password length (default: 16)",\n                required=False,\n            ),\n            ToolParameter(\n                name="include_symbols",\n                param_type="boolean",\n                description="Include special symbols (default: true)",\n                required=False,\n            ),\n        ],\n        handler=generate_password,\n    )\n\n\n# For auto-discovery - list all tool factory functions\nTOOLS = [create_tip_calculator_tool, create_password_generator_tool]\n